"""
提示语模板配置文件
包含所有用于 AI 模型的提示模板
"""

# 用于内容分析的提示
CONTENT_ANALYSIS_PROMPT = """
请对下面的内容进行分析，并返回格式化的 JSON，包含三个字段：

1. title: 内容的简洁标题（20 字以内）
2. summary: 内容的摘要概括（200-300 字）
3. tags: 3-5 个相关标签，优先从这些类别中选择：{categories}

只需返回 JSON，不要有其他文字。JSON 格式应该像这样：

{{
    "title": "标题",
    "summary": "摘要",
    "tags": ["标签 1", "标签 2", "标签 3"]
}}

内容如下：
{content}
"""

# PDF 分析提示（使用 Vision API）
PDF_ANALYSIS_PROMPT = """
你是一名专业的学术论文分析助手。{url_context}

请仔细阅读并分析论文内容，提供以下信息，使用 JSON 格式返回：

{{
  "title": "论文的完整标题",
  "brief_summary": "论文的简短摘要（200 字左右）",
  "insight": "论文的主要发现或贡献（100 字左右）",
  "details": "
        # 1.核心问题
        - [待填充]     用一句话概括研    究目标
        ## 现有方法    不足： 
        - [列出 3 点]

        # 2.方法论
        创新点流程图图解：（▢→▢→▢）
        ## 关键技术： 
        - [分点说明]
        ## 理论支撑： 
        - [定理名称]+[核心公式]

        # 3.实验验证
        ## 数据集特征： 
        - [数据量，领域差异]
        ## 指标对比： 
        - [表格形式呈现 FPR@95 等]
        ## 消融实验： 
        - [关键参数影响曲线]

        # 4.启示与局限
        ## 可复现性： 
        - [代码/数据开放情况]
        ## 应用价值： 
        - [实际部署可能性]
        ## 改进方向： 
        - [作者讨论的未来工作]
        ## 创新点
        - [客观评价作者最具创新的工作，以及向外拓展的启发]"
                    

  
}}

请务必使用以上准确的 JSON 格式返回结果，不要添加其他文字。
请确保 details 字段是一个字符串，内容使用 Markdown 格式，包含标题、列表等格式。
"""

# PDF 文本分析提示（不使用 Vision API，仅文本）
PDF_TEXT_ANALYSIS_PROMPT = """
你是一名专业的学术论文分析助手。请分析下面从 PDF 中提取的文本内容。
由于是文本提取，可能会有格式问题，请尽力理解内容。

请提供以下信息，使用 JSON 格式返回：

{{
  "title": "论文的完整标题",
  "brief_summary": "论文的简短摘要（200 字左右）",
  "insight": "论文的主要发现或贡献（100 字左右）",
  "details": "
            # 1.核心问题
            - [待填充] 用一句话概括研究目标
            ## 现有方法不足： 
            - [列出 3 点]

            # 2.方法论
            创新点流程图图解：（▢→▢→▢）
            ## 关键技术： 
            - [分点说明]
            ## 理论支撑： 
            - [定理名称]+[核心公式]

            # 3.实验验证
            ## 数据集特征： 
            - [数据量，领域差异]
            ## 指标对比： 
            - [表格形式呈现 FPR@95 等]
            ## 消融实验： 
            - [关键参数影响曲线]

            # 4.启示与局限
            ## 可复现性： 
            - [代码/数据开放情况]
            ## 应用价值： 
            - [实际部署可能性]
            ## 改进方向： 
            - [作者讨论的未来工作]
            ## 创新点
            - [客观评价作者最具创新的工作，以及向外拓展的启发]"
                
                请使用 Markdown 格式，确保正确使用以下语法：
                    - 使用 # 表示一级标题，## 表示二级标题 ### 表示三级标题
                    - 使用 **文本** 表示加粗文本
                    - 使用 *文本* 表示斜体文本
                    - 使用 - 表示列表项
                    - 使用 > 表示引用
                    - 使用 [文本](链接) 表示超链接"
}}

请严格按照上述 JSON 格式返回结果，不要有任何其他文字，确保 details 字段是一个字符串而不是嵌套的对象。
PDF 内容如下：
{text}
"""


# 更新后的周报提示
WEEKLY_SUMMARY_PROMPT = """
基于以下本周记录的内容，生成一份全面的周报总结。使用 Markdown 格式，包含以下部分：

1. 📊 **周统计**：对本周内容进行统计（条目总数、主要类别分布等）
2. 📌 **本周主题**：概括 2-4 个本周的整体主题或关注点
3. 📚 **内容分类与亮点**：将内容按主题分类（如学习、工作、阅读等）
4. 💡 **关键见解**：提取 3-5 个重要见解或想法
5. 🔄 **发展趋势**：分析本周内容与上周相比的变化趋势或新兴主题
6. 📝 **行动建议**：根据本周内容，提出 2-3 个下周可执行的具体行动建议

重要：对于引用的每一条内容，必须以这种格式引用：[引用的具体内容](ref:条目 ID)
例如：在"关键见解"部分，你可能会写"根据 [人工智能的快速发展需要更多伦理监管](ref:abc123def456)，我们应当..."

要求：
- 使用清晰简洁的语言
- 为每部分创建明确的标题，使用适当的 emoji
- 重点突出对知识积累和个人成长有价值的内容
- 每个要点必须引用至少一条原始内容，使用上述引用格式
- 提出实际可行的行动建议，帮助将积累的知识转化为实践
- 请提供完整且格式良好的周报，使用 Markdown 语法，以便于直接在 Notion 中显示

内容记录：
{entries_json}
"""
